class e{#e;#t=0;#r=100;#a;#i;#s;fromHex(e){this.#t=this.#n(e)}fromHsl(e){this.#t=this.#o(this.#l(e))}fromHsv(e){this.#t=this.#o(this.#l(this.#h(e)))}setOpacity(e){this.#r=e}toHex(){return this.#e=this.#e?this.#e:this.#d(this.#t)}toOpacity(){return this.#u(this.toHex().slice(7,9))}toRgb(){return this.#a=this.#a?this.#a:this.#p(this.#t)}toHsv(){return this.#s=this.#s?this.#s:this.#c(this.toRgb())}toHsl(){return this.#i=this.#i?this.#i:this.#h(this.toHsv())}#n=e=>("#"===e.charAt(0)&&(e=e.substring(1)),8===e.length&&(this.#r=this.#u(e.slice(6,8)),e=e.slice(0,6)),parseInt(e,16));#p=e=>({r:255&e>>16,g:255&e>>8,b:255&e});#d=e=>`${"#"+e.toString(16).padStart(6,"0")}${this.#g(this.#r)}`;#o=e=>e.r<<16|e.g<<8|e.b;#c=e=>{const{r:t,g:r,b:a}={r:e.r/255,g:e.g/255,b:e.b/255};let i=Math.max(t,r,a),s=i-Math.min(t,r,a),n=s&&(i===t?(r-a)/s:i===r?2+(a-t)/s:4+(t-r)/s);return{h:Math.round(60*(n<0?n+6:n)),s:Math.round(i&&s/i*100),v:Math.round(100*i)}};#h=e=>this.#b(e.h,e.s/100,e.v/100);#b=(e,t,r,a=r-r*t/2,i=Math.min(a,1-a))=>({h:e,s:i?Math.round((r-a)/i*100):0,l:Math.round(100*a)});#l=e=>this.#m(e.h,e.s/100,e.l/100);#m=(e,t,r,a=t*Math.min(r,1-r))=>{const i=(t,i=(t+e/30)%12)=>r-a*Math.max(Math.min(i-3,9-i,1),-1);return{r:Math.round(255*i(0)),g:Math.round(255*i(8)),b:Math.round(255*i(4))}};#g=e=>Math.round(e/100*255).toString(16).padStart(2,"0");#u=e=>Math.round(parseInt(e,16)/255*100)}class t{#v;#x;#e="#000000ff";#y="#ffffffff";#i={h:0,s:0,l:0};#s={h:0,s:0,v:0};#r=100;constructor(e,t){this.#v=e,this.#x=t}open=()=>{this.#x.dialog.showModal(),this.#I()};close=()=>{this.#x.dialog.close(),this.#f()};handlePointerDown=e=>{const t=e.target;(t.matches('[part="area"]')||t.matches('[part="area-cursor"]'))&&(document.addEventListener("pointermove",this.#w),e.preventDefault(),t.matches('[part="area-cursor"]')||this.#w(e))};handlePointerUp=e=>{document.removeEventListener("pointermove",this.#w)};handleClick=async e=>{const t=e.target.closest("button");if(t)switch(t.value){case"cancel":return this.#e=this.#y,void this.close();case"ok":return void this.close();case"eyedropper":return void await this.#H(e)}};handleSliders=e=>{const t=e.target,[r,a]=t.name.split("-");if(this.#x.sliders.slider&&this.#x.sliders.slider[r]){let e=t.value?parseFloat(t.value):0;t.hasAttribute("min")&&t.hasAttribute("max")&&(e=((e,t,r)=>Math.min(Math.max(e,t),r))(e,parseInt(t.getAttribute("min")),parseInt(t.getAttribute("max")))),this.#x.sliders.slider[r].range.value=`${e}`,this.#x.sliders.slider[r].output.value=`${e}`,this.#i.h=parseFloat(this.#x.sliders.slider.hue.range.value),this.#i.s=parseFloat(this.#x.sliders.slider.saturation.range.value),this.#i.l=parseFloat(this.#x.sliders.slider.lightness.range.value),this.#r=parseFloat(this.#x.sliders.slider.opacity.output.value),this.#k()}};handleHex=e=>{const t=e.target,r=(e=>{let t=e.replace(/[^a-fA-F0-9]+/g,"");return 3===t.length&&(t=`${t[0]}${t[0]}${t[1]}${t[1]}${t[2]}${t[2]}ff`),t=t.padStart(6,"0").padEnd(8,"f"),`#${t.slice(0,8)}`})(t.value);"focusout"===e.type&&(t.value=r),this.#e=r,this.#S()};#w=e=>{e.preventDefault();const t=this.#x.area.wrapper.getBoundingClientRect(),r=Math.min(t.width,Math.max(0,e.clientX-t.left)),a=Math.min(t.height,Math.max(0,e.clientY-t.top));this.#x.area.cursor.style.transform=`translate3D(${r}px, ${a}px, 0)`,this.#s.h=parseFloat(this.#x.sliders.slider.hue.range.value),this.#s.s=r/t.width*100,this.#s.v=100*(1-a/t.height),this.#A()};#H=async e=>{if("EyeDropper"in window){const e=new EyeDropper;try{const t=await e.open();this.#e=`${t.sRGBHex}ff`,this.#S(!0)}catch(e){this.#e="000000ff"}}};updateFromPicker=t=>{const r=new e;r.fromHex(t),this.#e=r.toHex(),this.#i=r.toHsl(),this.#s=r.toHsv(),this.#r=r.toOpacity(),this.#D(),this.#U(),this.#I(),this.#C(),this.#x&&(this.#y=this.#e,this.#x.preview.current.style.setProperty("--c",`${this.#y}`))};#A=()=>{const t=new e;t.fromHsv(this.#s),t.setOpacity(this.#r),this.#e=t.toHex();const r=t.toHsl();this.#i.h=this.#s.h,this.#i.s=r.s,this.#i.l=r.l,this.#U(),this.#D(),this.#C(),this.#f()};#k=()=>{const t=new e;t.fromHsl(this.#i),t.setOpacity(this.#r),this.#e=t.toHex(),this.#s=t.toHsv(),this.#U(),this.#I(),this.#C(),this.#f()};#S=(t=!1)=>{const r=new e;r.fromHex(this.#e),this.#i=r.toHsl(),this.#s=r.toHsv(),this.#r=r.toOpacity(),t&&this.#U(),this.#D(),this.#I(),this.#C(),this.#f()};#U=()=>{this.#x.hex.input.value=this.#e};#D=()=>{this.#x.sliders.slider.hue.output.value=`${this.#i.h}`,this.#x.sliders.slider.hue.range.value=`${this.#i.h}`,this.#x.sliders.slider.saturation.output.value=`${this.#i.s}`,this.#x.sliders.slider.saturation.range.value=`${this.#i.s}`,this.#x.sliders.slider.lightness.output.value=`${this.#i.l}`,this.#x.sliders.slider.lightness.range.value=`${this.#i.l}`,this.#x.sliders.slider.opacity.output.value=`${this.#r}`,this.#x.sliders.slider.opacity.range.value=`${this.#r}`};#I=()=>{const e=this.#x.area.wrapper.getBoundingClientRect(),t=this.#s.s/100*e.width,r=(1-this.#s.v/100)*e.height;this.#x.area.cursor.style.transform=`translate3D(${t}px, ${r}px, 0)`};#C=()=>{this.#x.hex.info.setAttribute("href",`https://www.colorhexa.com/${this.#e.slice(1,7)}`),this.#x.preview.new.style.setProperty("--c",`${this.#e}`),this.#x.wrapper.style.setProperty("--hue",`${this.#i.h}deg`),this.#x.wrapper.style.setProperty("--saturation",`${this.#i.s}%`),this.#x.wrapper.style.setProperty("--lightness",`${this.#i.l}%`),this.#x.wrapper.style.setProperty("--opacity",`${this.#r}%`)};#f=()=>{this.#v.dispatchEvent(new CustomEvent("update-color",{detail:{hex:this.#e},bubbles:!0}))}}const r=new CSSStyleSheet;r.replaceSync("*{box-sizing:border-box;}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}input[type=number]{appearance:textfield;}:host{--font:-apple-system,BlinkMacSystemFont,“Segoe UI”,“Roboto”,“Oxygen”,“Ubuntu”,“Cantarell”,“Fira Sans”,“Droid Sans”,“Helvetica Neue”,sans-serif;--modal-shadow:0 3px 5px #00000020;--bg-primary:#fff;--bg-secondary:#fff;--border-color-primary:#d0d1e4;--border-color-secondary:#6d7bff;--bg-header:#f7f8ff;--txt-color-primary:#000;--bg-transparent:repeating-conic-gradient(from 0,#fff 0% 25%,#eee 25% 50%) 0 0 /1rem 1rem;--area-shadow:0 0 0 1px rgba(0,0,0,0.1) inset;--thumb-shadow:0 0 0 1px rgb(0 0 0 / 5%),0 3px 10px 0 rgb(0 0 0 / 15%);--thumb-border:0.5rem solid #fff;--hue:0;}[part=dialog]{font-family:var(--font);font-size:1rem;padding:0;border:0;border-radius:3px;box-shadow:var(--modal-shadow);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;&::backdrop{opacity:0;}}[part=header]{background:var(--bg-header);cursor:move;margin:0;padding:.5rem;touch-action:none;align-items:center;display:flex;justify-content:space-between;& h3{color:var(--txt-color-primary);padding:0;margin:0;font-weight:700;font-size:1rem;}}[part=wrapper]{padding:1rem;background:var(--bg-primary);position:relative;display:grid;gap:1rem;grid-template-columns:4fr 3fr;color:var(--txt-color-primary);width:31rem;}[part=hex]{border:1px solid var(--border-color-primary);border-radius:3px;display:flex;gap:0.75rem;background:var(--bg-secondary);padding:0.5rem;align-items:center;&:has([part=hex-input]:focus){border-color:var(--border-color-secondary);}}[part=hex-input]{background:transparent;font-family:inherit;font-size:1rem;width:100%;border:0;margin:0;outline:0;padding:0;display:flex;flex:1;color:var(--txt-color-primary);}[part=cancel],[part=eyedropper],[part=info]{background-repeat:no-repeat;background-position:center;background-color:unset;border:none;text-indent:-9999vh;width:1rem;background-size:1rem 1rem;height:1rem;cursor:pointer;display:flex;}[part=eyedropper]{background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBpcGV0dGUiPjxwYXRoIGQ9Im0yIDIyIDEtMWgzbDktOSIvPjxwYXRoIGQ9Ik0zIDIxdi0zbDktOSIvPjxwYXRoIGQ9Im0xNSA2IDMuNC0zLjRhMi4xIDIuMSAwIDEgMSAzIDNMMTggOWwuNC40YTIuMSAyLjEgMCAxIDEtMyAzbC0zLjgtMy44YTIuMSAyLjEgMCAxIDEgMy0zbC40LjRaIi8+PC9zdmc+');}[part=info]{background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWluZm8iPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjEwIi8+PHBhdGggZD0iTTEyIDE2di00Ii8+PHBhdGggZD0iTTEyIDhoLjAxIi8+PC9zdmc+');}[part=cancel]{background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXgiPjxwYXRoIGQ9Ik0xOCA2IDYgMTgiLz48cGF0aCBkPSJtNiA2IDEyIDEyIi8+PC9zdmc+');background-size:1.25rem;padding:0.25rem;box-sizing:content-box;}[part=preview]{display:flex;gap:1rem;& div{border-radius:3px;display:flex;flex:1;overflow:hidden;}& span{background:linear-gradient(var(--c) 0 100%),var(--bg-transparent);display:flex;flex:1;}}[part=area]{background:linear-gradient(to bottom,transparent,#000),linear-gradient(to left,hsla(0,0%,100%,0),#fff),hsl(var(--hue),100%,50%);border-radius:3px;box-shadow:var(--area-shadow);height:16rem;position:relative;touch-action:none;width:100%;}[part=area-cursor]{background:hsl(var(--hue),var(--saturation),var(--lightness),1);border:var(--thumb-border);border-radius:50%;box-shadow:var(--thumb-shadow);cursor:pointer;display:block;height:1.5rem;margin-left:-.75rem;margin-top:-.75rem;width:1.5rem;}[part=sliders]{align-self:center;display:flex;flex-direction:column;gap:1rem;width:100%;}[part=confirm]{display:flex;padding:0.5rem 0.75rem;gap:0.5rem;margin:0;background:var(--bg-secondary);border:1px solid var(--border-color-primary);color:var(--txt-tertiary);font-size:1rem;font-family:inherit;border-radius:3px;align-items:center;cursor:pointer;position:relative;&:hover{border:1px solid var(--border-color-secondary);}}[part=slider]{display:grid;grid-template-areas:\"s n\" \"r r\";grid-template-columns:1fr 1fr;gap:0.5rem;align-items:center;& span{grid-area:s;text-transform:capitalize;}& input[type=number]{grid-area:n;padding:0.25rem 0.5rem;border:0;text-align:right;font-size:1rem;font-family:inherit;background:transparent;border-radius:3px;width:3.125rem;outline:0;justify-self:right;color:var(--txt-color-primary);&:hover{box-shadow:0 0 0 1px var(--border-color-primary) inset;}&:focus{box-shadow:0 0 0 1px var(--border-color-secondary) inset;}}& input[type=range]{grid-area:r;appearance:none;border-radius:30px;cursor:pointer;margin:0;height:0.5rem;width:100%;background:transparent;--track-shadow:0 0 0 1px rgba(0,0,0,0.1) inset;&::-webkit-slider-runnable-track{border-radius:30px;border:none;height:0.5rem;box-shadow:var(--track-shadow);}&::-webkit-slider-thumb{appearance:none;background:hsl(var(--hue),var(--saturation),var(--lightness));border-radius:50%;height:1rem;width:1rem;border:var(--thumb-border);padding:0.25rem;box-shadow:var(--thumb-shadow);margin-top:-0.5rem;box-sizing:border-box;}&::-moz-range-track{border-radius:30px;border:none;height:0.5rem;margin:0;box-shadow:var(--track-shadow);}&::-moz-range-thumb{appearance:none;background:hsl(var(--hue),var(--saturation),var(--lightness));border-radius:50%;height:1rem;width:1rem;border:var(--thumb-border);padding:0.25rem;box-shadow:var(--thumb-shadow);margin-top:-0.5rem;box-sizing:border-box;}}& input[type=text]{border:0;border-radius:3px;padding:0.5rem 0 0.5rem 0.5rem;display:flex;font-size:1rem;gap:0.5rem;align-items:baseline;width:100%;}}.hue [type=range]{--hue-colors:#ff0000 0%,#ffff00 17%,#00ff00 33%,#00ffff 50%,#0000ff 67%,#ff00ff 83%,#ff0000 100%;&::-webkit-slider-thumb{background:hsl(var(--hue),100%,50%);}&::-webkit-slider-runnable-track{background:linear-gradient(to right,var(--hue-colors));}&::-moz-range-track{background:linear-gradient(to right,var(--hue-colors));}&::-moz-range-thumb{background:hsl(var(--hue),100%,50%);}}.saturation [type=range]{&::-webkit-slider-runnable-track{background:linear-gradient(to right,hsl(var(--hue),0%,var(--lightness)),hsl(var(--hue),100%,var(--lightness)));}&::-moz-range-track{background:linear-gradient(to right,hsl(var(--hue),0%,var(--lightness)),hsl(var(--hue),100%,var(--lightness)));}}.lightness [type=range]{&::-webkit-slider-runnable-track{background:linear-gradient(to right,hsl(var(--hue),var(--saturation),0%),hsl(var(--hue),var(--saturation),50%),hsl(var(--hue),var(--saturation),100%));}&::-moz-range-track{background:linear-gradient(to right,hsl(var(--hue),var(--saturation),0%),hsl(var(--hue),var(--saturation),50%),hsl(var(--hue),var(--saturation),100%));}}.opacity [type=range]{&::-webkit-slider-thumb{--color:hsl(var(--hue),var(--saturation),var(--lightness),var(--opacity));background:linear-gradient(var(--color) 0 100%),var(--bg-transparent-mini);}&::-webkit-slider-runnable-track{background:linear-gradient(to right,hsl(var(--hue),var(--saturation),var(--lightness),0%),hsl(var(--hue),var(--saturation),var(--lightness),100%)),var(--bg-transparent);}&::-moz-range-thumb{--color:hsl(var(--hue),var(--saturation),var(--lightness),var(--opacity));background:linear-gradient(var(--color) 0 100%),var(--bg-transparent-mini);}&::-moz-range-track{background:linear-gradient(to right,hsl(var(--hue),var(--saturation),var(--lightness),0%),hsl(var(--hue),var(--saturation),var(--lightness),100%)),var(--bg-transparent);}}@media screen and (max-width:600px){[part=wrapper]{grid-template-columns:unset;width:16rem;}[part=area]{height:8rem;}}");class a{#E="Color Picker";#M="Hue";#P="Saturation";#z="Lightness";#T="Opacity";#$="OK";set labelTitle(e){this.#E=e}set labelHue(e){this.#M=e}set labelSaturation(e){this.#P=e}set labelLightness(e){this.#z=e}set labelOpacity(e){this.#T=e}set labelOK(e){this.#$=e}build=e=>{const t=e.attachShadow({mode:"open"});t.adoptedStyleSheets=[r];const a=this.#N();return t.appendChild(a),this.#R(t)};#R=e=>{const t={hue:{range:e.querySelector('[name="hue-range"]'),output:e.querySelector('[name="hue-output"]')},lightness:{range:e.querySelector('[name="lightness-range"]'),output:e.querySelector('[name="lightness-output"]')},saturation:{range:e.querySelector('[name="saturation-range"]'),output:e.querySelector('[name="saturation-output"]')},opacity:{range:e.querySelector('[name="opacity-range"]'),output:e.querySelector('[name="opacity-output"]')}};return{dialog:e.querySelector("dialog"),header:e.querySelector("header"),wrapper:e.querySelector('[part="wrapper"]'),sliders:{wrapper:e.querySelector('[part="sliders"]'),slider:t},hex:{input:e.querySelector('[part="hex"] input[name="hex"]'),info:e.querySelector('[part="hex"] a'),eyedropper:e.querySelector('[part="hex"] button[value="eyedropper"]')},preview:{new:e.querySelector('[part="preview"] [data-id="new"]'),current:e.querySelector('[part="preview"] [data-id="current"]')},area:{wrapper:e.querySelector('[part="area"]'),cursor:e.querySelector('[part="area-cursor"]')}}};#O=e=>{const t=document.createElement("div");t.setAttribute("class",`${e.name}`),t.setAttribute("part","slider");const r=(e=>{const t=document.createElement("span");return t.appendChild(document.createTextNode(e.label)),t})(e),a=(e=>{const t=document.createElement("input");return t.setAttribute("aria-label",`${e.label} output`),t.setAttribute("type","number"),t.setAttribute("name",`${e.name}-output`),t.setAttribute("min",`${e.values.min}`),t.setAttribute("max",`${e.values.max}`),t.setAttribute("steps","1"),t.setAttribute("value","0"),t})(e),i=(e=>{const t=document.createElement("input");return t.setAttribute("aria-label",`${e.label} slider`),t.setAttribute("type","range"),t.setAttribute("name",`${e.name}-range`),t.setAttribute("min",`${e.values.min}`),t.setAttribute("max",`${e.values.max}`),t.setAttribute("value","0"),t})(e);return t.appendChild(r),t.appendChild(a),t.appendChild(i),t};#L=()=>{const e=document.createElement("div");e.setAttribute("part","sliders");return[{label:this.#M,name:"hue",values:{min:0,max:360}},{label:this.#P,name:"saturation",values:{min:0,max:100}},{label:this.#z,name:"lightness",values:{min:0,max:100}},{label:this.#T,name:"opacity",values:{min:0,max:100}}].forEach((t=>{e.appendChild(this.#O(t))})),e};#j=()=>{const e=document.createElement("div");e.setAttribute("part","preview");const t=document.createElement("span");t.setAttribute("data-id","new");const r=document.createElement("span");r.setAttribute("data-id","current");const a=document.createElement("div");a.appendChild(t),a.appendChild(r);const i=document.createElement("button");return i.setAttribute("part","confirm"),i.setAttribute("value","ok"),i.appendChild(document.createTextNode(this.#$)),e.appendChild(a),e.appendChild(i),e};#B=()=>{const e=document.createElement("div");e.setAttribute("part","hex");const t=document.createElement("input");if(t.setAttribute("aria-label","Hex"),t.setAttribute("type","text"),t.setAttribute("name","hex"),t.setAttribute("part","hex-input"),e.appendChild(t),"EyeDropper"in window){const t=document.createElement("button");t.setAttribute("aria-label","EyeDropper"),t.setAttribute("value","eyedropper"),t.setAttribute("part","eyedropper"),t.appendChild(document.createTextNode("EyeDropper")),e.appendChild(t)}const r=document.createElement("a");return r.setAttribute("href","#"),r.setAttribute("target","_blank"),r.setAttribute("part","info"),r.appendChild(document.createTextNode("Info")),e.appendChild(r),e};#Z=()=>{const e=document.createElement("div"),t=document.createElement("span");return e.setAttribute("part","area"),e.setAttribute("tabindex","0"),t.setAttribute("data-id","cursor"),t.setAttribute("part","area-cursor"),e.appendChild(t),e};#G=()=>{const e=document.createElement("div");e.setAttribute("part","wrapper");const t=this.#B(),r=this.#j(),a=this.#Z(),i=this.#L();return e.appendChild(t),e.appendChild(r),e.appendChild(a),e.appendChild(i),e};#W=()=>{const e=document.createElement("header");e.setAttribute("part","header");const t=document.createElement("h3");t.appendChild(document.createTextNode(this.#E));const r=document.createElement("button");return r.setAttribute("part","cancel"),r.setAttribute("value","cancel"),r.appendChild(document.createTextNode("Cancel")),e.appendChild(t),e.appendChild(r),e};#N=()=>{const e=document.createElement("dialog");e.setAttribute("part","dialog");const t=this.#W(),r=this.#G();return e.appendChild(t),e.appendChild(r),e}}class i{#J;#q=!1;#F;#X={x:0,y:0};#Y={x:0,y:0};handleStartDrag=e=>{const t=e.target.closest("header");t&&(this.#J=t.closest("dialog"),this.#Q(e))};handleStopDrag=e=>{this.#q=!1,this.#V(),document.removeEventListener("pointermove",this.#K)};handleOptions=e=>{const t=e.target.closest('button[part="cancel"]');if(t){const e=t.closest("dialog");e&&e.close()}};#Q=e=>{e.target.closest("button")||(this.#q=!0,this.#X.x=e.clientX,this.#X.y=e.clientY,this.#J&&(this.#F=this.#J.getBoundingClientRect(),this.#V(),document.addEventListener("pointermove",this.#K),e.preventDefault()))};#K=e=>{if(this.#q&&this.#F&&this.#J){const t=this.#Y.y-this.#F.top,r=this.#Y.x+-1*(this.#X.x-e.clientX),a=Math.max(this.#Y.y+-1*(this.#X.y-e.clientY),t);this.#J.style.transform=`translate3D(\n                ${r}px, \n                ${a}px, \n                0\n              )`}};#V=()=>{if(this.#J){const e=window.getComputedStyle(this.#J),t=new DOMMatrixReadOnly(e.transform);this.#Y.x=t.m41,this.#Y.y=t.m42}}}class s extends HTMLElement{static observedAttributes=["hex","open"];#_;constructor(){super();const e=new a;this.#ee(e,{labelTitle:this.getAttribute("label-title"),labelHue:this.getAttribute("label-hue"),labelSaturation:this.getAttribute("label-saturation"),labelLightness:this.getAttribute("label-lightness"),labelOpacity:this.getAttribute("label-opacity"),labelOK:this.getAttribute("label-ok")});const r=e.build(this);if(r){this.#_=new t(this,r),r.dialog.addEventListener("click",this.#_.handleClick),r.sliders.wrapper.addEventListener("input",this.#_.handleSliders),r.hex.input.addEventListener("input",this.#_.handleHex),r.hex.input.addEventListener("focusout",this.#_.handleHex),r.wrapper.addEventListener("pointerdown",this.#_.handlePointerDown),document.addEventListener("pointerup",this.#_.handlePointerUp);const e=new i;r.header.addEventListener("click",e.handleOptions),r.header.addEventListener("pointerdown",e.handleStartDrag),document.addEventListener("pointerup",e.handleStopDrag)}}attributeChangedCallback(e,t,r){"open"===e&&this.#_&&"true"===r&&this.#_.open(),"hex"===e&&this.#_&&(r=r||"#000000ff",this.#_.updateFromPicker(r))}#ee(e,t){Object.entries(t).forEach((([t,r])=>{null!==r&&(e[t]=r)}))}}customElements.define("color-picker",s);
